##########################################
# n8n Environment Secrets (Homelab MSI)
# Location: ~/homelab/stacks/n8n/secrets.env
##########################################

# ==== Auth / Security ====
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=change_me_strong

# Used to encrypt credentials in DB (generate a strong random hex string once and keep safe)
N8N_ENCRYPTION_KEY=3b12f1f9c2a64d8fb1b1f0a02b8a1c5a

# ==== Core Settings ====
N8N_PORT=5678
N8N_HOST=192.168.29.50
N8N_PROTOCOL=http
N8N_EDITOR_BASE_URL=http://192.168.29.50:5678
N8N_SECURE_COOKIE=false
N8N_DISABLE_PRODUCTION_MAIN_PROCESS=false
N8N_RUNNERS_ENABLED=true

# ==== Postgres Database (internal container) ====
POSTGRES_USER=n8n
POSTGRES_PASSWORD=change_pg_password
POSTGRES_DB=n8n

# n8n expects these to connect to Postgres
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=n8n-postgres
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_USER=n8n
DB_POSTGRESDB_PASSWORD=change_pg_password
DB_POSTGRESDB_DATABASE=n8n

# ==== Timezone ====
GENERIC_TIMEZONE=Asia/Kolkata

##########################################
# Notes:
# - Never check this file into GitHub (store in Vault/Doppler as per roadmap).
# - NODE_IP=192.168.29.50 is exported globally; used for Homepage and scripts.
# - Restore script will expect health at http://$NODE_IP:5678/healthz
##########################################
